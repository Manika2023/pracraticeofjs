<!DOCTYPE html>
<html lang="en">
<head>
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>promise</title>
</head>
<body>
     

<!-- js =async in nature -->

</body>

<script>
     let p1=new Promise((resolve,reject)=>{
          console.log("promise is pending")
          setTimeout(()=>{
             
               console.log("i am a promise and i am fulfilled")
               resolve(true)
               // reject(new Error("i ma error"))
          },5000)
     })

     // console.log(p)
     // let p2=new Promise((resolve,reject)=>{
     //      console.log("promise is pending")
     //      setTimeout(()=>{
             
     //           console.log("i am a promise and i am fulfilled")
     //           // resolve(true)
     //           reject(new Error("i am error"))
     //      },5000)
     // })

// console.log(p1,p2)
// p1.then(()=>{
//      console.log("i am completed after p1")
// })
// p2.catch((error)=>{
//      console.log("some error occured in p2")
// })

let p3=new Promise((resolve,reject)=>{
     setTimeout(()=>{
          console.log("resolved after 2 seconds")
          resolve(56)
     },2000)
})

p3.then((value)=>{
     console.log(value)
     let p4= new Promise((resolve,reject)=>{
          resolve("promise 2")
     })
     return p4
}).then((value)=>{
console.log("we are done")
})



const loadscript=(src)=>{
     return new Promise((resolve,reject)=>{
          let script=document.createElement('script')
          script.type="text/javascript"
          script.src=src
          document.body.appendChild(script)
          script.onload=()=>{
               resolve(1)
          }
          script.onerror=()=>{
               reject(0)
          }
     })
}

let p5=loadscript("")
p5.then((value)=>{
     console.log(value)
     return loadscript("")

}).then((value)=>{
console.log("second script ready")
}).catch((erroe)=>{
     console.log("sorry")
})


</script>
</html>